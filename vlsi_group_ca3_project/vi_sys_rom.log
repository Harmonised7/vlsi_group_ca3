KCPSM6 Assembler log file for program 'Z:\vlsi_group_ca3_project\vi_sys_rom.psm'.
Generated by KCPSM6 version v2.31
Ken Chapman - Xilinx Ltd - 9th August 2012

Assembly datestamp: 24 Mar 2023
Assembly timestamp: 10:12:07

Contents
  Assembly listing
  List of PSM files
  List of CONSTANTs
  List of TABLEs
  List of STRINGs
  List of line labels
  Instruction usage statistics


Last occupied address: 04C hex
Nominal program memory size: 1K (1024)   address(9:0)
Actual memory size: 4096
  (Default memory size)
Occupied memory locations: 77
Memory locations available: 4019


Assembly listing

 Addr Code                Instruction

 000                main: 
 000  09401               INPUT s4, 01             ;   Inputs 1 - switches 0-7
 001  09500               INPUT s5, 00             ;   Inputs 2 - switches 8-15
 002                      ; Frequency switch
 002  00650               LOAD s6, s5              ;   Take a copy of the 8-15 switch states
 003  03680               AND s6, 80               ;   Mask s4 to 0b00000001
 004                      ; mode_1 or mode_2 decision
 004  36007               JUMP NZ, 007[mode_1]
 005  2200E               JUMP 00E[mode_2]
 006  22000               JUMP 000[main]           ;   mode_1 and mode_2 jump to main regardless, but just in case.
 007                      ;10hz
 007              mode_1: 
 007  20039               CALL 039[turn_on]
 008                      ; wait 75ms
 008  20042               CALL 042[start_delay]
 009  20042               CALL 042[start_delay]
 00A  20042               CALL 042[start_delay]
 00B  2003E               CALL 03E[turn_off]
 00C                      ; wait 25ms
 00C  20042               CALL 042[start_delay]
 00D  22000               JUMP 000[main]
 00E                      ;1hz
 00E              mode_2: 
 00E  20039               CALL 039[turn_on]
 00F                      ; wait 750ms
 00F  20042               CALL 042[start_delay]
 010  20042               CALL 042[start_delay]
 011  20042               CALL 042[start_delay]
 012  20042               CALL 042[start_delay]
 013  20042               CALL 042[start_delay]
 014  20042               CALL 042[start_delay]
 015  20042               CALL 042[start_delay]
 016  20042               CALL 042[start_delay]
 017  20042               CALL 042[start_delay]
 018  20042               CALL 042[start_delay]
 019  20042               CALL 042[start_delay]
 01A  20042               CALL 042[start_delay]
 01B  20042               CALL 042[start_delay]
 01C  20042               CALL 042[start_delay]
 01D  20042               CALL 042[start_delay]
 01E  20042               CALL 042[start_delay]
 01F  20042               CALL 042[start_delay]
 020  20042               CALL 042[start_delay]
 021  20042               CALL 042[start_delay]
 022  20042               CALL 042[start_delay]
 023  20042               CALL 042[start_delay]
 024  20042               CALL 042[start_delay]
 025  20042               CALL 042[start_delay]
 026  20042               CALL 042[start_delay]
 027  20042               CALL 042[start_delay]
 028  20042               CALL 042[start_delay]
 029  20042               CALL 042[start_delay]
 02A  20042               CALL 042[start_delay]
 02B  20042               CALL 042[start_delay]
 02C  20042               CALL 042[start_delay]
 02D  2003E               CALL 03E[turn_off]
 02E                      ; wait 250ms
 02E  20042               CALL 042[start_delay]
 02F  20042               CALL 042[start_delay]
 030  20042               CALL 042[start_delay]
 031  20042               CALL 042[start_delay]
 032  20042               CALL 042[start_delay]
 033  20042               CALL 042[start_delay]
 034  20042               CALL 042[start_delay]
 035  20042               CALL 042[start_delay]
 036  20042               CALL 042[start_delay]
 037  20042               CALL 042[start_delay]
 038  22000               JUMP 000[main]
 039             turn_on: 
 039                      ; copy switch values to the corresponding LEDs
 039  2D400               OUTPUT s4, 00            ;   Inputs 1 - switches 0-7
 03A  00650               LOAD s6, s5              ;   s5 stores the 8-15 switch states
 03B  0367F               AND s6, 7F               ;   Mask s4 to 0b01111111 (last one is hz control)
 03C  2D601               OUTPUT s6, 01
 03D  25000               RETURN 
 03E            turn_off: 
 03E                      ; set all LEDs to 0
 03E  01300               LOAD s3, 00              ;   0s
 03F  2D300               OUTPUT s3, 00            ;   Outputs 1 - LEDs 0-7
 040  2D301               OUTPUT s3, 01            ;   Outputs 1 - LEDs 8-14
 041  25000               RETURN 
 042                      ; Note: The iterators are 1 higher because we subtract first, then check.
 042                      ; wait 0.025s
 042         start_delay: 
 042  010B6               LOAD s0, B6              ; dec 182
 043         delay_for_0: 
 043  19001               SUB s0, 01
 044  3204C               JUMP Z, 04C[delay_end]
 045  01136               LOAD s1, 36              ; dec 54
 046         delay_for_1: 
 046  19101               SUB s1, 01
 047  32043               JUMP Z, 043[delay_for_0]
 048  0122C               LOAD s2, 2C              ; dec 44
 049         delay_for_2: 
 049  19201               SUB s2, 01
 04A  32046               JUMP Z, 046[delay_for_1]
 04B  22049               JUMP 049[delay_for_2]
 04C           delay_end: 
 04C  25000               RETURN 



List of PSM files that have been assembled

Z:\vlsi_group_ca3_project\vi_sys_rom.psm



List of defined constants

 CONSTANT name     Value        Source PSM File

 timestamp_hours   10'd         
 timestamp_minutes 12'd         
 timestamp_seconds 07'd         
 datestamp_year    23'd         
 datestamp_month   3'd          
 datestamp_day     24'd         



No TABLEs defined



List of text strings

 STRING name       String         Source PSM File

 KCPSM6_version$   "v2.31"        
 datestamp$        "24 Mar 2023"  
 timestamp$        "10:12:07"     



List of line labels

 Label         Addr  Source PSM File

 main          000   vi_sys_rom.psm
 mode_1        007   vi_sys_rom.psm
 mode_2        00E   vi_sys_rom.psm
 turn_on       039   vi_sys_rom.psm
 turn_off      03E   vi_sys_rom.psm
 start_delay   042   vi_sys_rom.psm
 delay_for_0   043   vi_sys_rom.psm
 delay_for_1   046   vi_sys_rom.psm
 delay_for_2   049   vi_sys_rom.psm
 delay_end     04C   vi_sys_rom.psm



Instruction usage statistics

 Instruction    Instances

 LOAD              6
 STAR              -

 AND               2
 OR                -
 XOR               -

 ADD               -
 ADDCY             -
 SUB               3
 SUBCY             -

 TEST              -
 TESTCY            -
 COMPARE           -
 COMPARECY         -

 SL0               -
 SL1               -
 SLX               -
 SLA               -
 RL                -
 SR0               -
 SR1               -
 SRX               -
 SRA               -
 RR                -

 REGBANK           -

 INPUT             2
 OUTPUT            4
 OUTPUTK           -

 STORE             -
 FETCH             -

 DISABLE           -
 ENABLE            -
 RETURNI           -

 JUMP              9
 JUMP@             -
 CALL             48
 CALL@             -
 RETURN            3
 LOAD&RETURN       -

 HWBUILD           -



End of KCPSM6 log file.
